---
/**
 * Èñ¢ÈÄ£„Çµ„Ç§„ÉàCTA„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà
 * „Ç´„ÉÜ„Ç¥„É™Âà•„Å´ÊúÄÈÅ©„Å™Èñ¢ÈÄ£„Çµ„Ç§„Éà„Å∏„ÅÆË™òÂ∞é„ÇíË°®Á§∫
 */

interface Props {
  category: string;
}

const { category } = Astro.props;

// „Ç´„ÉÜ„Ç¥„É™Âà•„ÅÆÈñ¢ÈÄ£„Çµ„Ç§„ÉàË®≠ÂÆö
const relatedSitesConfig = {
  kiso: [
    {
      url: 'https://keiba-matome.jp',
      icon: 'üì∞',
      title: 'ÊúÄÊñ∞„ÅÆÁ´∂È¶¨„Éã„É•„Éº„Çπ„Çí„ÉÅ„Çß„ÉÉ„ÇØ',
      description: '‰∏≠Â§ÆÁ´∂È¶¨„ÅÆÊúÄÊñ∞„Éã„É•„Éº„Çπ„Å®„Éï„Ç°„É≥„ÅÆÂèçÂøú„Çí„É™„Ç¢„É´„Çø„Ç§„É†„ÅßÁ¢∫Ë™ç',
      badge: '2chÈ¢®„Åæ„Å®„ÇÅ'
    },
    {
      url: 'https://yosou.keiba-matome.jp',
      icon: 'üí¨',
      title: 'Á´∂È¶¨‰∫àÊÉ≥„ÅÆË≠∞Ë´ñ„Çí„ÉÅ„Çß„ÉÉ„ÇØ',
      description: '‰∫àÊÉ≥„ÅÆ„Ç≥„ÉÑ„ÇÑËÄÉ„ÅàÊñπ„Çí„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„ÅßÂ≠¶„Åº„ÅÜ',
      badge: '‰∫àÊÉ≥„Åæ„Å®„ÇÅ'
    }
  ],
  baken: [
    {
      url: 'https://yosou.keiba-matome.jp',
      icon: 'üìä',
      title: 'Á´∂È¶¨‰∫àÊÉ≥„ÅÆÊúÄÊñ∞Ë≠∞Ë´ñ',
      description: 'È¶¨Âà∏„ÅÆË≤∑„ÅÑÊñπ„ÇÑ‰∫àÊÉ≥ÊâãÊ≥ï„Å´„Å§„ÅÑ„Å¶Ê¥ªÁô∫„Å´Ë≠∞Ë´ñ‰∏≠',
      badge: '‰∫àÊÉ≥„Åæ„Å®„ÇÅ'
    },
    {
      url: 'https://nankan-analytics.com',
      icon: 'ü§ñ',
      title: 'AI‰∫àÊÉ≥„ÇíÁÑ°Êñô„ÅßË©¶„Åô',
      description: 'ÂçóÈñ¢Á´∂È¶¨ÁâπÂåñ„ÅÆAI‰∫àÊÉ≥„Çµ„Éº„Éì„Çπ„ÄÇÁÑ°Êñô„Éó„É©„É≥„Åß‰ªä„Åô„Åê‰ΩìÈ®ì',
      badge: 'AI‰∫àÊÉ≥',
      primary: true
    }
  ],
  yougo: [
    {
      url: 'https://keiba-matome.jp',
      icon: 'üì∞',
      title: 'Áî®Ë™û„ÅåÈ£õ„Å≥‰∫§„ÅÜ„Éã„É•„Éº„ÇπË®ò‰∫ã',
      description: 'ÂÆüÈöõ„ÅÆ‰Ωø„Çè„ÇåÊñπ„ÇíÁ¢∫Ë™ç„Åó„Å¶ÁêÜËß£„ÇíÊ∑±„ÇÅ„Çà„ÅÜ',
      badge: '„Éã„É•„Éº„Çπ„Åæ„Å®„ÇÅ'
    }
  ],
  nankan: [
    {
      url: 'https://chihou.keiba-matome.jp',
      icon: 'üèá',
      title: 'Âú∞ÊñπÁ´∂È¶¨„ÅÆÊúÄÊñ∞„Éã„É•„Éº„Çπ',
      description: 'ÂçóÈñ¢Êù±4Â†¥„ÅÆÊúÄÊñ∞ÊÉÖÂ†±„Å®„Éï„Ç°„É≥„ÅÆÂèçÂøú„Çí„ÉÅ„Çß„ÉÉ„ÇØ',
      badge: 'Âú∞ÊñπÁ´∂È¶¨„Åæ„Å®„ÇÅ'
    },
    {
      url: 'https://nankan-review.jp',
      icon: '‚≠ê',
      title: 'ÂçóÈñ¢Á´∂È¶¨‰∫àÊÉ≥„Çµ„Ç§„ÉàÂè£„Ç≥„Éü',
      description: 'ÂçóÈñ¢Á´∂È¶¨ÁâπÂåñ„ÅÆ‰∫àÊÉ≥„Çµ„Ç§„ÉàÊØîËºÉ„Éª„É¶„Éº„Ç∂„Éº„É¨„Éì„É•„Éº',
      badge: 'Âè£„Ç≥„Éü'
    },
    {
      url: 'https://nankan-analytics.com',
      icon: 'ü§ñ',
      title: 'ÂçóÈñ¢AI‰∫àÊÉ≥„ÇíÁÑ°Êñô„ÅßË©¶„Åô',
      description: '„Éá„Éº„Çø„ÅåË±äÂØå„Å™ÂçóÈñ¢Á´∂È¶¨„ÅØAI‰∫àÊÉ≥„ÅåÊúâÂà©„ÄÇÁÑ°Êñô„ÅßÁ≤æÂ∫¶„Çí‰ΩìÈ®ì',
      badge: 'AI‰∫àÊÉ≥',
      primary: true
    }
  ],
  data: [
    {
      url: 'https://yosou.keiba-matome.jp',
      icon: 'üí°',
      title: '„Éá„Éº„Çø‰∫àÊÉ≥„ÅÆË≠∞Ë´ñ„Çí„ÉÅ„Çß„ÉÉ„ÇØ',
      description: '„Éá„Éº„ÇøÂàÜÊûêÊâãÊ≥ï„ÇÑ‰∫àÊÉ≥„ÉÑ„Éº„É´„Å´„Å§„ÅÑ„Å¶„ÅÆÊÉÖÂ†±‰∫§Êèõ',
      badge: '‰∫àÊÉ≥„Åæ„Å®„ÇÅ'
    },
    {
      url: 'https://nankan-analytics.com',
      icon: 'üöÄ',
      title: 'AI‰∫àÊÉ≥„ÅÆÂÆüÂäõ„Çí‰ΩìÈ®ì',
      description: 'ÂçóÈñ¢Á´∂È¶¨ÁâπÂåñAI‰∫àÊÉ≥„ÄÇÁÑ°Êñô„Éó„É©„É≥„ÅßÁöÑ‰∏≠Áéá„ÇíÁ¢∫„Åã„ÇÅ„Çà„ÅÜ',
      badge: 'AI‰∫àÊÉ≥',
      primary: true
    }
  ]
};

const sites = relatedSitesConfig[category] || [];
---

{sites.length > 0 && (
  <div class="related-sites-cta">
    <h2 class="cta-title">
      <span class="icon">üîó</span>
      Èñ¢ÈÄ£„Åô„ÇãÁ´∂È¶¨ÊÉÖÂ†±„Çµ„Ç§„Éà
    </h2>
    <p class="cta-description">
      „ÇÇ„Å£„Å®Ë©≥„Åó„ÅèÁü•„Çä„Åü„ÅÑÊñπ„Å´„Åä„Åô„Åô„ÇÅ„ÅÆ„Çµ„Ç§„Éà„Çí„ÅîÁ¥π‰ªã
    </p>
    <div class="sites-grid">
      {sites.map(site => (
        <a
          href={site.url}
          class={`site-card ${site.primary ? 'primary' : ''}`}
          target="_blank"
          rel="noopener noreferrer"
        >
          <div class="site-icon">{site.icon}</div>
          <div class="site-content">
            <div class="site-header">
              <h3 class="site-title">{site.title}</h3>
              <span class={`site-badge ${site.primary ? 'badge-primary' : ''}`}>
                {site.badge}
              </span>
            </div>
            <p class="site-description">{site.description}</p>
            <div class="site-link">
              Ë©≥„Åó„ÅèË¶ã„Çã
              <svg class="arrow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </div>
        </a>
      ))}
    </div>
  </div>
)}

<style>
  .related-sites-cta {
    background: linear-gradient(135deg, #f6f8fb 0%, #ffffff 100%);
    border: 2px solid #e5e7eb;
    border-radius: 16px;
    padding: 2rem;
    margin: 3rem 0;
  }

  .cta-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #111827;
    margin: 0 0 0.5rem 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .icon {
    font-size: 1.75rem;
  }

  .cta-description {
    font-size: 0.95rem;
    color: #6b7280;
    margin: 0 0 1.5rem 0;
  }

  .sites-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
  }

  .site-card {
    display: flex;
    gap: 1rem;
    padding: 1.5rem;
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .site-card:hover {
    border-color: #42a5f5;
    box-shadow: 0 8px 24px rgba(66, 165, 245, 0.15);
    transform: translateY(-2px);
  }

  .site-card.primary {
    background: linear-gradient(135deg, #fff5f5 0%, #fffbeb 100%);
    border-color: #fbbf24;
  }

  .site-card.primary:hover {
    border-color: #f59e0b;
    box-shadow: 0 8px 24px rgba(245, 158, 11, 0.25);
  }

  .site-icon {
    font-size: 2.5rem;
    flex-shrink: 0;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(66, 165, 245, 0.1);
    border-radius: 12px;
  }

  .site-card.primary .site-icon {
    background: rgba(245, 158, 11, 0.15);
  }

  .site-content {
    flex: 1;
    min-width: 0;
  }

  .site-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
    flex-wrap: wrap;
  }

  .site-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: #111827;
    margin: 0;
  }

  .site-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 600;
    background: #dbeafe;
    color: #2563eb;
    border-radius: 6px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .site-badge.badge-primary {
    background: #fef3c7;
    color: #d97706;
  }

  .site-description {
    font-size: 0.95rem;
    color: #6b7280;
    margin: 0 0 0.75rem 0;
    line-height: 1.6;
  }

  .site-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.95rem;
    font-weight: 600;
    color: #42a5f5;
    transition: gap 0.3s ease;
  }

  .site-card:hover .site-link {
    gap: 0.75rem;
  }

  .site-card.primary .site-link {
    color: #f59e0b;
  }

  .arrow-icon {
    width: 16px;
    height: 16px;
  }

  @media (max-width: 640px) {
    .related-sites-cta {
      padding: 1.5rem;
      margin: 2rem 0;
    }

    .cta-title {
      font-size: 1.25rem;
    }

    .site-card {
      flex-direction: column;
      padding: 1.25rem;
    }

    .site-icon {
      width: 50px;
      height: 50px;
      font-size: 2rem;
    }

    .site-title {
      font-size: 1rem;
    }

    .site-description {
      font-size: 0.875rem;
    }
  }
</style>
