---
/**
 * ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 * ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°é¢¨ã®è¡¨ç¤º
 */

interface TimelineItem {
  time: string;
  category: string;
  title: string;
  slug: string;
}

interface Props {
  items: TimelineItem[];
}

const { items } = Astro.props;

// ã‚«ãƒ†ã‚´ãƒªã”ã¨ã®ã‚¢ã‚¤ã‚³ãƒ³
const categoryIcons: Record<string, string> = {
  'é€Ÿå ±': 'ğŸ”¥',
  'ãƒ‹ãƒ¥ãƒ¼ã‚¹': 'ğŸ“°',
  'ç‚ä¸Š': 'ğŸ’¥',
  'ãƒ©ãƒ³ã‚­ãƒ³ã‚°': 'ğŸ“Š',
  'ã¾ã¨ã‚': 'ğŸ“',
  'G1ãƒ¬ãƒ¼ã‚¹': 'ğŸ‡'
};

// ã‚«ãƒ†ã‚´ãƒªã”ã¨ã®ã‚«ãƒ©ãƒ¼
const categoryColors: Record<string, string> = {
  'é€Ÿå ±': 'text-red-500',
  'ãƒ‹ãƒ¥ãƒ¼ã‚¹': 'text-blue-500',
  'ç‚ä¸Š': 'text-orange-600',
  'ãƒ©ãƒ³ã‚­ãƒ³ã‚°': 'text-purple-500',
  'ã¾ã¨ã‚': 'text-green-500',
  'G1ãƒ¬ãƒ¼ã‚¹': 'text-yellow-600'
};
---

<div class="timeline-container">
  <h2 class="timeline-header">
    âš¡ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
  </h2>

  <div class="timeline">
    {items.map(item => {
      const icon = categoryIcons[item.category] || 'ğŸ“°';
      const color = categoryColors[item.category] || 'text-gray-500';

      return (
        <div class="timeline-item">
          <span class="timeline-time">{item.time}</span>
          <span class={`timeline-icon ${color}`}>{icon}</span>
          <a href={`/news/${item.slug}/`} class="timeline-link">
            <span class="timeline-category">[{item.category}]</span>
            <span class="timeline-title">{item.title}</span>
          </a>
        </div>
      );
    })}
  </div>
</div>

<style>
  .timeline-container {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(220, 220, 220, 0.4);
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    box-shadow:
      0 8px 32px 0 rgba(0, 0, 0, 0.08),
      inset 0 0 20px rgba(255, 255, 255, 0.7);
  }

  .timeline-header {
    font-size: 1.125rem;
    font-weight: 700;
    color: #111827;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid #42a5f5;
  }

  .timeline {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .timeline-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    border-radius: 8px;
    transition: background 0.2s ease;
  }

  .timeline-item:hover {
    background: rgba(100, 181, 246, 0.1);
    backdrop-filter: blur(10px);
  }

  .timeline-time {
    font-size: 0.75rem;
    color: #9ca3af;
    font-weight: 600;
    min-width: 50px;
    font-family: 'Courier New', monospace;
  }

  .timeline-icon {
    font-size: 1.25rem;
  }

  .timeline-link {
    text-decoration: none;
    color: inherit;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
    min-width: 0;
  }

  .timeline-category {
    font-size: 0.75rem;
    font-weight: 700;
    color: #42a5f5;
    white-space: nowrap;
  }

  .timeline-title {
    font-size: 0.875rem;
    color: #111827;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: color 0.2s ease;
  }

  .timeline-link:hover .timeline-title {
    color: #42a5f5;
  }

  @media (max-width: 640px) {
    .timeline-time {
      min-width: 40px;
      font-size: 0.625rem;
    }

    .timeline-title {
      font-size: 0.75rem;
    }
  }
</style>
