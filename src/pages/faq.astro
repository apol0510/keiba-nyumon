---
import BaseLayout from '../layouts/BaseLayout.astro';
import { config } from '../config';

// FAQ データ
const faqs = [
  {
    question: '競馬は初めてでも楽しめますか？',
    answer: 'はい、競馬は初心者でも十分に楽しめます。馬券を買わずにレースを観戦するだけでも迫力があり、パドックで馬を見たり、競馬場のグルメを楽しんだりと様々な楽しみ方があります。初心者向けのガイドツアーを実施している競馬場もあるので、気軽に参加してみてください。'
  },
  {
    question: '馬券はいくらから買えますか？',
    answer: '馬券は100円から購入できます。単勝・複勝・馬連・ワイド・馬単・三連複・三連単など様々な種類があり、すべて100円単位で購入可能です。初心者の方は、まず100円の単勝や複勝から始めることをおすすめします。'
  },
  {
    question: '競馬場には何を持っていけばいいですか？',
    answer: '基本的には特別な持ち物は不要です。入場料（100〜200円程度）、馬券を買うための現金（3,000〜5,000円程度がおすすめ）、筆記用具（出走表にメモを取る場合）、双眼鏡（あるとレース観戦がより楽しめます）があると良いでしょう。競馬場内には売店もあるので、手ぶらでも問題ありません。'
  },
  {
    question: 'レース当日の流れを教えてください',
    answer: '競馬場に到着したら、まず入場券を購入して入場します。出走表を確認して気になるレースをチェックし、レース前にパドックで馬を観察します。馬券売場で馬券を購入したら、ターフビジョン前やスタンドでレースを観戦。レース後は払戻窓口で的中馬券を換金できます。このサイクルを繰り返しながら一日を楽しみましょう。'
  },
  {
    question: '初心者におすすめの馬券は？',
    answer: '初心者には「単勝」（1着になる馬を当てる）または「複勝」（3着以内に入る馬を当てる）がおすすめです。特に複勝は3着以内なら的中となるため当たりやすく、競馬の楽しさを実感しやすいです。慣れてきたら「ワイド」（2頭が3着以内に入る組み合わせ）にも挑戦してみましょう。'
  }
];

// SEO用
const siteUrl = config.domain ? `https://${config.domain}` : 'https://keiba-nyumon.jp';
const faqUrl = `${siteUrl}/faq/`;

// FAQPage構造化データ
const faqStructuredData = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: faqs.map(faq => ({
    '@type': 'Question',
    name: faq.question,
    acceptedAnswer: {
      '@type': 'Answer',
      text: faq.answer
    }
  }))
};

// BreadcrumbList構造化データ
const breadcrumbStructuredData = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    {
      '@type': 'ListItem',
      position: 1,
      name: 'ホーム',
      item: `${siteUrl}/`
    },
    {
      '@type': 'ListItem',
      position: 2,
      name: 'よくある質問',
      item: faqUrl
    }
  ]
};
---

<BaseLayout
  title={`よくある質問（FAQ） | ${config.name}`}
  description="競馬初心者の方からよく寄せられる質問にお答えします。馬券の買い方、競馬場での過ごし方、レースの見方など、初めての方でも安心して競馬を楽しめる情報をQ&A形式で解説します。"
>
  <!-- 構造化データ: FAQPage -->
  <script type="application/ld+json" set:html={JSON.stringify(faqStructuredData)} />

  <!-- 構造化データ: BreadcrumbList -->
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbStructuredData)} />

  <div class="faq-page">
    <!-- パンくずリスト -->
    <nav class="breadcrumb">
      <a href="/">ホーム</a>
      <span class="separator">›</span>
      <span class="current">よくある質問</span>
    </nav>

    <!-- FAQヘッダー -->
    <header class="faq-header">
      <div class="faq-icon">❓</div>
      <h1 class="faq-title">よくある質問（FAQ）</h1>
      <p class="faq-description">
        競馬初心者の方からよく寄せられる質問にお答えします。
      </p>
    </header>

    <!-- FAQ リスト -->
    <div class="faq-list">
      {faqs.map((faq, index) => (
        <details class="faq-item">
          <summary class="faq-question">
            <span class="question-icon">Q{index + 1}</span>
            <span class="question-text">{faq.question}</span>
          </summary>
          <div class="faq-answer">
            <span class="answer-icon">A</span>
            <p>{faq.answer}</p>
          </div>
        </details>
      ))}
    </div>
  </div>
</BaseLayout>

<style>
  .faq-page { max-width: 900px; margin: 0 auto; padding: 2rem 1rem; }
  .breadcrumb { display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; color: #6b7280; margin-bottom: 2rem; }
  .breadcrumb a { color: #42a5f5; text-decoration: none; }
  .separator { color: #d1d5db; }
  .current { color: #111827; font-weight: 500; }
  .faq-header { text-align: center; margin-bottom: 3rem; padding: 3rem 2rem; background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(20px); border-radius: 24px; }
  .faq-icon { font-size: 4rem; margin-bottom: 1rem; }
  .faq-title { font-size: 2.5rem; font-weight: 800; color: #111827; margin: 0 0 1rem 0; }
  .faq-description { font-size: 1.125rem; color: #6b7280; }
  .faq-list { display: flex; flex-direction: column; gap: 1rem; }
  .faq-item { background: rgba(255, 255, 255, 0.7); border-radius: 16px; padding: 1.5rem; }
  .faq-question { font-weight: 600; display: flex; gap: 1rem; cursor: pointer; }
  .question-icon { background: #38bdf8; color: white; padding: 0.5rem; border-radius: 8px; }
  .faq-answer { margin-top: 1rem; padding-left: 3rem; }
  .answer-icon { background: rgba(56, 189, 248, 0.1); color: #0ea5e9; padding: 0.5rem; border-radius: 8px; margin-right: 1rem; }
</style>
